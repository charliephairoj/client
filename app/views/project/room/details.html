<div class="room-details-page">
    
    <!--
        Modals
    -->
	<div supply-list="showSupplyToggle" on-select="addSupply($supply)"></div>
    
    <div add-supply="showSupplyCreateToggle" on-add="addItem($supply)"></div>
    <!--
        Sidebar
    -->
    <div class="sidebar">
        <header>
            <h1>
                <span>Room: {{room.description}}</span>
            </h1>
        </header>
        <nav>
            <ul class="list">
                <li>
                    <button ng-click="showAddItem()">Add a Item</button>
                </li>
                <li>
                    <button ng-click="showAddPart()">Add a Part</button>
                </li>
            </ul>
        </nav>
        
    </div>
    
    <!--
        Workspace
    -->
    <div class="workspace">
    	
        <div class="details">
            <table>
                <tr>
                    <td>Room: </td>
                    <td>{{room.description}}</td>
                </tr>
                <tr>
                    <td>Reference: </td>
                    <td>{{room.reference}}</td>
                </tr>
                <tr>
                    <td>Delivery Date: </td>
                    <td>{{room.delivery | date:"MMMM d, yyyy"}}</td>
                </tr>
            </table>
        </div>
       
		<md-tabs md-selected="selectedIndex">
			<md-tab label="Items">
			
			</md-tab>
		</md-tabs>
		<div class="panel-container">
			<ng-switch on="selectedIndex">
				<div ng-switch-when="0" class="item-panel">
					<!--
					<table>
						<thead>
							<tr>
								<th>DESCRIPTION</th>
								<th>REFERENCE</th>
								
								<th>DEPTH</th>
								<th>HEIGHT</th>
								<th>QUANTITY</th>
								<th>STATUS</th>
								<th>FILES</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="item in room.items">
								<td>{{item.description}}</td>
								<td>{{item.reference}}</td>
								<td>{{item.depth}}</td>
								<td>{{item.height}}</td>
								<td>{{item.quantity}}</td>
								<td>{{item.status}}</td>
								<td class="files">
									<table class="file-table">
										<tr ng-repeat="file in item.files">
											<div>
												<td>
													<a ng-href="{{file.url}}" target="_blank">{{file.filename}}</a>
												</td>
											</div>
										</tr>
									</table>
								</td>
							</tr>
						</tbody>
					</table>
				-->
					<div class="title-bar">
						<div class="description">DESCRIPTION</div>
						<div class="reference">REF</div>
						<div class="quantity">QTY</div>
						<div class="status">STATUS</div>
						<div class="supplies">SUPPLIES</div>
						<div class="files">PARTS</div>
					</div>
					<div class="outer-container">
						<div class="inner-container">
							<div class="item-container" ng-repeat="item in room.items" file-drop="addListedItemFiles($files, $index)">
								<div class="placeholder">
									DROP FILES HERE
								</div>
								<div class="item">
									
									<div class="description">{{item.description}}</div>
									<div class="reference">{{item.reference}}</div>
									<div class="quantity">{{item.quantity}}</div>
									<div class="status" ng-class="item.status.toLowerCase()">{{item.status}}</div>
									<div class="supplies">
										<div class="supplies-menu">
											<md-button class="md-accent md-raised" ng-click="showAddSupply($index)">Add</md-button>
											<md-button class="create md-accent md-raised" ng-click="showCreateSupply($index)">Create New Supply</md-button>
										</div>
										<div class="supplies-table-container">
											<table class="supplies-table">
												<tr ng-repeat="supply in item.supplies">
														<td>
															<div class="supply-container">
																<div class="description">{{supply.description}}</div>
																<div class='qty-container'>
																	<md-input-container>
																		<label>Quantity</label>
																		<input type="number" min="0" required ng-model="supply.quantity" required>
																	</md-input-container>
																	<span>{{supply.units}}</span>
																</div>
																<md-button class="md-warn md-raised">Remove</md-button>
															</div>
															
														</td>
												</tr>
											</table>
										</div>
									</div>
									<div class="files">
										<table class="files-table">
											<tr ng-repeat="part in item.parts">
													<td>
														<span class="description">
															{{part.description}}
														</span>
														<span class="quantity">
															{{part.quantity}}pc
														</span>
														<!--
														<a ng-href="{{file.url}}" target="_blank">{{file.filename}}</a>
															-->
													</td>
											</tr>
										</table>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</ng-switch>
		</div>
            
    </div>
</div>