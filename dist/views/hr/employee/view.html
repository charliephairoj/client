<div class="employee-view-page">
	<!--
        Sidebar
    -->
	<!--
    <div class="sidebar">
        <header>
            <h1><span>Employees</span></h1>
        </header>
        <nav>
            <ul>
                <li ng-show="currentUser.hasPermission('add_user')">
                    <div data-ng-click="showAddEmployee()">
                        Add Employee
                    </div>
                </li>
            </ul>
        </nav>
    </div>  
    -->
	<!--
        Search Bar
    -->
	<div class="workspace">
		<!--
		<nav>
			<h2>Employees</h2>
			<md-button class="add-btn md-accent" ng-show="currentUser.hasPermission('add_user')" ng-click="showAddEmployee()">New Employee</md-button>
		</nav>
		
		<div class="title-bar">
			<div class="preview">PROFILE</div>
			<div class="id">ID</div>
			<div class="name">NAME</div>
			<div class="first-name">FIRST NAME</div>
			<div class="last-name">LAST NAME</div>
			<div class="nickname">NICKNAME</div>
		</div>
		
    	<div class="outer-container scroll-enabled" on-scroll-end="loadNext()">
    		<ul class="inner-container">
    			<li class="item-container" ng-repeat="employee in employees | filter:search:strict | filter:query">
    				<div employee="employee" on-select="focus($element)"></div>
    			</li>
    		</ul>
    	</div>
			-->
		<md-toolbar layout="row" layout-align="center center" md-scroll-shrink="true">
			<h3><span>Employees</span></h3>
			<div flex>
			</div>
			<md-button class="md-icon-button md-raised md-accent" ng-show="currentUser.hasPermission('add_employee')" ng-click="showAddEmployee()">
				<md-tooltip>Create Employee</md-tooltip>
				<i class="material-icons">add</i>
			</md-button>
			<div layout="row" layout-align="end center">
				<input class="search" type="text" ng-model="query" />
			</div>
		</md-toolbar>
		<md-content>
			<md-card ng-class="{'active': employee.$active}" ng-repeat="employee in employees | filter:search:strict | filter:query track by employee.id">
				<md-card-title ng-click="employee.$active=!employee.$active" layout="row" layout-align="start start" flex="nogrow">
					<md-card-title-media flex="nogrow">
						<div class="md-media-sm card-media">
							<i class="material-icons" ng-hide="employee.image.url">account_box</i>
							<img ng-src="{{employee.image.url}}" ng-show="employee.image.url">
						</div>
					</md-card-title-media>
					<md-card-title-text flex="nogrow">
						<h3>{{employee.name}}</h3>
						<h4>{{employee.department}}</h4>
					</md-card-title-text>
					<div flex></div>
				</md-card-title>
				<md-card-content ng-show="!employee.$active">
					<table>
						<tr>
							<td>Nationality:</td>
							<td>{{employee.nationality}}</td>
						</tr>
						<tr>
							<td>Paid:</td>
							<td>{{employee.pay_period}}</td>
						</tr>
						<tr>
							<td>Wage:</td>
							<td>{{employee.wage}}</td>
						</tr>
					</table>
				</md-card-content>
				<md-card-content flex="grow" ng-show="employee.$active">
					<div layout="row" layout-align="start start">
						<md-input-container ng-disabled="!currentUser.hasPermission('change_employee')" flex>
							<label>Name</label>
							<input type="text" ng-model="employee.name" />
						</md-input-container>
						<md-input-container ng-disabled="!currentUser.hasPermission('change_employee')" flex>
							<label>Department</label>
							<md-select ng-model="employee.department">
								<md-option value='migrant'>Migrant</md-option>
								<md-option value='woodworking'>Woodworking</md-option>
								<md-option value='painting'>Painting</md-option>
								<md-option value='polishing'>Polishing</md-option>
								<md-option value='packing'>Packing</md-option>
								<md-option value='upholstery'>Upholstery</md-option>
								<md-option value='sewing'>Sewing</md-option>
								<md-option value='cutting fabric'>Cutting Fabric</md-option>
								<md-option value='foam'>Foam</md-option>
								<md-option value='housekeeping'>Housekeeping</md-option>
							</md-select>
						</md-input-container>
					</div>
					<div>
						<md-input-container>
							<label>Nationality</label>
							<md-select ng-model="employee.nationality">
								<md-option value='thai'>Thai</md-option>
								<md-option value='cambodian'>Cambodian</md-option>
							</md-select>
						</md-input-container>
						<md-input-container>
							<label>Paid Period</label>
							<md-select ng-model="employee.pay_period">
								<md-option value='daily'>Daily</md-option>
								<md-option value='monthly'>Monthly</md-option>
							</md-select>
						</md-input-container>
					</div>
				</md-card-content>
				<md-card-actions ng-show="employee.$active" layout="row" layout-align="end center">
					<md-button class="md-icon-button md-accent" ng-show="currentUser.hasPermission('change_employee')" ng-click="save(employee)">
						<md-tooltip>Save</md-tooltip>
						<i class="material-icons">save</i>
					</md-button>
				</md-card-actions>
			</md-card>
		</md-content>
	</div>
</div>